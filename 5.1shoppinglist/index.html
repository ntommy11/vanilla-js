<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Shopping List</title>
  <link rel="stylesheet" href="style.css">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300&display=swap" rel="stylesheet"></head>
<body>
  <div class="container">
    <div class="header">
      <h1>쇼핑리스트</h1>
    </div>
    <ul class="list">
    </ul>
    <div class="footer">
      <div class="input_wrapper">
        <input class="textInput" type="text" placeholder="살 것을 입력하세요"/>
        <button class="submit_button" type="button" onclick="onAdd();" onkeydown=>추가</button>
      </div>
    </div>
  </div>
  <script>
    const list = document.querySelector('.list');
    const textInput = document.querySelector('.textInput');
    const addBtn = document.querySelector('.submit_button');

    textInput.addEventListener('keypress',(event)=>{
      if(event.key ==='Enter'){
        onAdd();
      }
      console.log('keypress');
    });

    list.addEventListener('click',(event)=>{
      if(event.target.className === "deleteButton"){
        console.log(event.target.parentElement);
        list.removeChild(event.target.parentElement)
      }
    })

    function onAdd(){
      const val = textInput.value;
      if (val===''){
        input.focus();
        return;
      }
      console.log(val);
      const li = document.createElement('li');
      const content = document.createElement('div');
      const deleteButton = document.createElement('button');
      content.innerHTML = `<span>${val}</span>`;
      deleteButton.className = 'deleteButton';
      deleteButton.innerHTML = '삭제';
      /*
      deleteButton.addEventListener('click',(event)=>{
        console.log("deleteButton clicked!");
        console.log(event.srcElement.parentElement);
        list.removeChild(event.srcElement.parentElement)
      });*/
      li.appendChild(content);
      li.appendChild(deleteButton);
      list.appendChild(li);

      li.scrollIntoView({block: 'center'});

      textInput.value = "";
      textInput.focus();
    }
  </script>
</body>
</html>